<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="../css/alarm.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <title>Alarmas</title>
</head>

<body>
    <div class="container">
        <div class="left-panel">
            <div class="header">
                <div class="logo">
                    <a href="../../index.html">
                        <img class="logo-image" src="../../assets/images/helenlogo.png" alt="">
                    </a>
                </div>
            </div>
            <div class="alarm-container">
                <div class="current-time">
                    <div class="digital-clock">
                        <p class="time">00:00</p>
                        <p class="date-section"></p>
                    </div>
                </div>
                <div class="new-alarm-section">
                    <h2>Nueva Alarma</h2>
                    <div class="time-picker">
                        <div class="time-input">
                            <input type="number" id="hours" min="0" max="23" value="7">
                            <span class="time-separator">:</span>
                            <input type="number" id="minutes" min="0" max="59" value="30">
                            <select id="alarm-ampm">
                                <option value="AM">AM</option>
                                <option value="PM">PM</option>
                            </select>
                        </div>
                    </div>
                    <div class="repeat-days">
                        <div class="day-selector" data-day="1">L</div>
                        <div class="day-selector" data-day="2">M</div>
                        <div class="day-selector" data-day="3">M</div>
                        <div class="day-selector" data-day="4">J</div>
                        <div class="day-selector" data-day="5">V</div>
                        <div class="day-selector" data-day="6">S</div>
                        <div class="day-selector" data-day="0">D</div>
                    </div>
                    <div class="alarm-actions">
                        <div class="custom-select-container">
                            <select id="alarm-name" class="custom-select">
                                <option value="Despertar">Despertar</option>
                                <option value="Medicamento">Medicamento</option>
                                <option value="Reunión">Reunión</option>
                                <option value="Ejercicio">Ejercicio</option>
                                <option value="Recordatorio">Recordatorio</option>
                            </select>
                            <div class="select-icon">
                            </div>
                        </div>
                        <button id="add-alarm" class="action-button">
                            <i class="bi bi-plus-lg"></i> Agregar
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="right-panel">
            <div class="alarm-list-section">
                <h2>Mis Alarmas</h2>
                <div class="alarm-list">
                    <!-- Las alarmas se cargarán dinámicamente aquí -->
                    <div class="alarm-loading">
                        <i class="bi bi-arrow-repeat spinner"></i>
                        <p>Cargando alarmas...</p>
                    </div>
                    <div class="no-alarms-message" style="display: none;">
                        <i class="bi bi-bell-slash"></i>
                        <p>No tienes alarmas configuradas</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="footer-item weather-button">
            <a href="../clock/clock.html"><i class="bi bi-clock"></i> Reloj</a>
        </div>
        <div class="footer-item timer-button">
            <a href="../clock/timer.html"><i class="bi bi-stopwatch"></i> Temporizador</a>
        </div>
        <div class="footer-item stopwatch-button">
            <a href="../clock/stopwatch.html"><i class="bi bi-clock-history"></i> Cronómetro</a>
        </div>
    </div>

    <!-- Plantilla para crear alarmas dinámicamente -->
    <template id="alarm-template">
        <div class="alarm-item">
            <div class="alarm-info">
                <div class="alarm-time">00:00</div>
                <div class="alarm-details">
                    <div class="alarm-name">Alarma</div>
                    <div class="alarm-days"></div>
                </div>
            </div>
            <div class="alarm-actions">
                <div class="alarm-toggle">
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider round"></span>
                    </label>
                </div>
                <button class="delete-alarm">
                    <i class="bi bi-trash"></i>
                </button>
            </div>
        </div>
    </template>

    <script src="../jsFrontend/alarm.js"></script>
    <script src="../../jsSignHandler/SocketIO.js"></script>
    <script src="../../jsSignHandler/eventConnector.js"></script>
    <script src="../../jsSignHandler/actions.js"></script>
    <script src="../../jsSignHandler/loadingScreenLoader.js"></script>
</body>

</html>