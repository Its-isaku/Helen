<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=1024, initial-scale=1.0" />
  <title>Ajustes</title>
  <link rel="stylesheet" href="../css/settings.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
</head>

<body>
  <div class="container">
    <div class="left-panel">
      <div class="header">
        <div class="logo small-logo" onclick="window.location.href='../../index.html'">
          <img src="../../assets/images/helenlogo.png" alt="Helen Logo" class="logo-image" />
        </div>
      </div>
    </div>

    <div class="right-panel">
      <div class="settings-content">
        <div class="settings-title">Ajustes del sistema</div>
        <div class="settings-buttons">
          <div class="settings-button wifi" id="open-wifi-modal">
            <i class="bi bi-wifi"></i>
            <span>WiFi</span>
          </div>
          <div class="settings-button info" onclick="window.location.href='../settings/info.html'">
            <i class="bi bi-info-circle"></i>
            <span>Información</span>
          </div>
          <div class="settings-button help" onclick="window.location.href='../settings/help.html'">
            <i class="bi bi-question-circle"></i>
            <span>Ayuda</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de WiFi mejorado -->
  <div class="wifi-modal" id="wifi-modal">
    <div class="wifi-modal-content">
      <div class="wifi-modal-header">
        <h2>Redes WiFi</h2>
        <button class="close-button" id="close-wifi-modal">&times;</button>
      </div>

      <!-- <div class="wifi-status" id="wifi-status">
                <i class="bi bi-wifi"></i>
                <span id="connected-network">No conectado</span>
            </div> -->

      <div class="buttons-wifi">
        <!-- <div class="wifi-switch" id="wifi-switch">
                    <label class="switch">
                        <input type="checkbox" checked onchange="toggleDeviceStatus(this)">
                        <span class="slider"></span>
                    </label>
                    <span class="device-status-text" id="status-text-switch">Encendido</span>
                </div> -->
        <button class="refresh-button" id="refresh-wifi">
          <i class="bi bi-arrow-clockwise"></i>
        </button>
      </div>

      <div class="wifi-list" id="wifi-list">
        <!-- Las redes WiFi se cargarán aquí dinámicamente -->
        <div class="wifi-item">
          <div class="wifi-signal"><i class="bi bi-wifi"></i></div>
          <div class="wifi-name">Cargando redes disponibles...</div>
        </div>
      </div>

      <div class="password-input-container" id="password-container">
        <input type="password" class="password-input" id="wifi-password" placeholder="Contraseña">
        <button class="toggle-password" id="toggle-password">
          <i class="bi bi-eye-slash" id="password-toggle-icon"></i>
        </button>
      </div>

      <button class="connect-button" id="connect-wifi-button" disabled>
        <span class="loader" id="connect-loader"></span>
        <span id="connect-text">Conectar</span>
        <span class="connecting-text" id="connecting-text">Conectando...</span>
      </button>
    </div>
  </div>

  <script>
    document.getElementById("open-wifi-modal").onclick = () => {
      document.getElementById("wifi-modal").style.display = "flex";
    };
    document.getElementById("close-wifi-modal").onclick = () => {
      document.getElementById("wifi-modal").style.display = "none";
    };
  </script>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="../../jsSignHandler/SocketIO.js"></script>
  <script src="../../jsSignHandler/eventConnector.js"></script>
  <script src="../../jsSignHandler/actions.js"></script>
  <script src="../../jsWifi/controlWifi.js"></script>
  <script src="../../jsSignHandler/loadingScreenLoader.js"></script>
</body>

</html>